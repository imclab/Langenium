{"ts":1363266957974,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\tEvents\n\tThis defines the client event handlers\n\t\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\n\n\n/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\tGlobals\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\n\nsocket = io.connect(getUrl());\n\n\n\n/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\tFunction definitions\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\nfunction getUrl() {\n\tif (window.location.href.indexOf(\"langenium\") > 0)\n\t{\n\t\treturn \"http://54.252.102.111\";\n\t\t\n\t}\n\telse {\n\t\treturn \"http://localhost:80\";\n\t}\n}\nfunction setEventHandlers() {\n\tsocket.emit(\"login\", { username: \"Saggy Nuts\" });\n\tsocket.on(\"load\", function(data) { \n\t\tfor (var objArray in data) {\n\t\t\tdata[objArray].forEach(function(instruction, index) {\n\t\t\t\tloadObject(instruction);\n\t\t\t});\n\t\t}\n\t});\n\treturn socket;\n}\n\nfunction detectCollision(source, direction, world_map) {\n\tvar raycaster = new THREE.Raycaster(source, direction.normalize());\n\tvar intersects = raycaster.intersectObjects(world_map);\n\treturn intersects;\n}\n\nfunction moveShip(ship, isPlayer, instruction) {\n\n\tvar playerMesh = player;\n\t\n\tif (instruction.details.pY != 0){\n\t\tship.position.y = instruction.details.pY;\n\t}\n\t\n\tif (instruction.details.pX != 0){\n\t\tship.position.x = instruction.details.pX;\n\t}\n\t\n\tif (instruction.details.pZ != 0) {\n\t\tship.position.z = instruction.details.pZ;\n\t}\n\t\n\tvar rotate = instruction.details.rY - ship.rotation.y;\n\t\n\tif (rotate > 0){\n\t\tif (ship.rotation.z < .5) {\n\t\t\tship.rotation.z += rotate / 3;\n\t\t}\n\t\telse {\n\t\t\tship.rotation.z += rotate / 4;\n\t\t}\n\t\tship.rotation.y = instruction.details.rY;\n\t}\n\tif (rotate < 0) {\n\t\tif (ship.rotation.z > -.5) {\n\t\t\tship.rotation.z += rotate / 3;\n\t\t}\n\t\telse {\n\t\t\tship.rotation.z += rotate / 4;\n\t\t}\n\t\tship.rotation.y = instruction.details.rY;\n\t}\n\n}"]],"start1":0,"start2":0,"length1":0,"length2":2789}]],"length":2789}
{"contributors":[],"silentsave":false,"ts":1363266954162,"patch":[[{"diffs":[[0,".102.111"],[1,":8080"],[0,"\";\n\t\t\n\t}"]],"start1":1498,"start2":1498,"length1":16,"length2":21}]],"length":2794,"saved":false}
