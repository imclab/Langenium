{"ts":1363266957974,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\tEvents\n\tThis defines the client event handlers\n\t\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\n\n\n/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\tGlobals\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\n\nsocket = io.connect(getUrl());\n\n\n\n/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\tFunction definitions\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\nfunction getUrl() {\n\tif (window.location.href.indexOf(\"langenium\") > 0)\n\t{\n\t\treturn \"http://54.252.102.111\";\n\t\t\n\t}\n\telse {\n\t\treturn \"http://localhost:80\";\n\t}\n}\nfunction setEventHandlers() {\n\tsocket.emit(\"login\", { username: \"Saggy Nuts\" });\n\tsocket.on(\"load\", function(data) { \n\t\tfor (var objArray in data) {\n\t\t\tdata[objArray].forEach(function(instruction, index) {\n\t\t\t\tloadObject(instruction);\n\t\t\t});\n\t\t}\n\t});\n\treturn socket;\n}\n\nfunction detectCollision(source, direction, world_map) {\n\tvar raycaster = new THREE.Raycaster(source, direction.normalize());\n\tvar intersects = raycaster.intersectObjects(world_map);\n\treturn intersects;\n}\n\nfunction moveShip(ship, isPlayer, instruction) {\n\n\tvar playerMesh = player;\n\t\n\tif (instruction.details.pY != 0){\n\t\tship.position.y = instruction.details.pY;\n\t}\n\t\n\tif (instruction.details.pX != 0){\n\t\tship.position.x = instruction.details.pX;\n\t}\n\t\n\tif (instruction.details.pZ != 0) {\n\t\tship.position.z = instruction.details.pZ;\n\t}\n\t\n\tvar rotate = instruction.details.rY - ship.rotation.y;\n\t\n\tif (rotate > 0){\n\t\tif (ship.rotation.z < .5) {\n\t\t\tship.rotation.z += rotate / 3;\n\t\t}\n\t\telse {\n\t\t\tship.rotation.z += rotate / 4;\n\t\t}\n\t\tship.rotation.y = instruction.details.rY;\n\t}\n\tif (rotate < 0) {\n\t\tif (ship.rotation.z > -.5) {\n\t\t\tship.rotation.z += rotate / 3;\n\t\t}\n\t\telse {\n\t\t\tship.rotation.z += rotate / 4;\n\t\t}\n\t\tship.rotation.y = instruction.details.rY;\n\t}\n\n}"]],"start1":0,"start2":0,"length1":0,"length2":2789}]],"length":2789}
{"contributors":[],"silentsave":false,"ts":1363266954162,"patch":[[{"diffs":[[0,".102.111"],[1,":8080"],[0,"\";\n\t\t\n\t}"]],"start1":1498,"start2":1498,"length1":16,"length2":21}]],"length":2794,"saved":false}
{"contributors":[],"silentsave":false,"ts":1363622953313,"patch":[[{"diffs":[[0,"rl());\n\n"],[1,"function events () {}"],[0,"\n"],[-1,""],[0,"\n/*\\\\\\\\\\"]],"start1":1048,"start2":1048,"length1":17,"length2":38},{"diffs":[[0,"\\\\\\\\\\*/\n"],[1,"events.prototype.getUrl = "],[0,"function"]],"start1":1413,"start2":1413,"length1":16,"length2":42},{"diffs":[[0,"unction "],[-1,"getUrl"],[0,"() {\n\tif"]],"start1":1448,"start2":1448,"length1":22,"length2":16},{"diffs":[[0,".102.111"],[1,":8080"],[0,"\";\n\t\t\n\t}"]],"start1":1539,"start2":1539,"length1":16,"length2":21},{"diffs":[[0,"\";\n\t}\n}\n"],[1,"events.prototype."],[0,"function"]],"start1":1598,"start2":1598,"length1":16,"length2":33},{"diffs":[[0,"ers() {\n"],[-1,""],[0,"\tsocket."]],"start1":1645,"start2":1645,"length1":16,"length2":16},{"diffs":[[0," socket;\n}\n\n"],[1,"events.prototype."],[0,"function det"]],"start1":1881,"start2":1881,"length1":24,"length2":41}]],"length":2869,"saved":false}
{"ts":1363622967049,"patch":[[{"diffs":[[0,"ototype."],[-1,"function "],[0,"setEvent"]],"start1":1615,"start2":1615,"length1":25,"length2":16},{"diffs":[[0,"Handlers"],[1," = function "],[0,"() {\n\tso"]],"start1":1631,"start2":1631,"length1":16,"length2":28},{"diffs":[[0,"ototype."],[-1,"function "],[0,"detectCo"]],"start1":1905,"start2":1905,"length1":25,"length2":16},{"diffs":[[0,"ollision"],[1," = function "],[0,"(source,"]],"start1":1920,"start2":1920,"length1":16,"length2":28}]],"length":2875,"saved":false}
{"ts":1363622988527,"patch":[[{"diffs":[[0,"cts;\n}\n\n"],[1,"events.prototype.moveShip = "],[0,"function"]],"start1":2114,"start2":2114,"length1":16,"length2":44},{"diffs":[[0,"unction "],[-1,"moveShip"],[0,"(ship, i"]],"start1":2151,"start2":2151,"length1":24,"length2":16}]],"length":2895,"saved":false}
{"ts":1363623102983,"patch":[[{"diffs":[[0,"connect("],[1,"events."],[0,"getUrl()"]],"start1":1036,"start2":1036,"length1":16,"length2":23}]],"length":2902,"saved":false}
{"ts":1363623535652,"patch":[[{"diffs":[[0,"rl());\n\n"],[1,"var events = "],[0,"function"]],"start1":1055,"start2":1055,"length1":16,"length2":29},{"diffs":[[0,"unction "],[-1,"events "],[0,"() {}\n\n/"]],"start1":1077,"start2":1077,"length1":23,"length2":16}]],"length":2908,"saved":false}
{"ts":1363623639251,"patch":[[{"diffs":[[0,"*/\n\n"],[-1,"socket = io.connect(events.getUrl());\n\n"],[0,"var "]],"start1":1020,"start2":1020,"length1":47,"length2":8},{"diffs":[[0," () {}\n\n"],[1,"\n"],[0,"/*\\\\\\\\\\\\"]],"start1":1045,"start2":1045,"length1":16,"length2":17}]],"length":2870,"saved":false}
{"ts":1363623640780,"patch":[[{"diffs":[[0," () {}\n\n"],[1,"socket = io.connect(events.getUrl());\n"],[0,"\n/*\\\\\\\\\\"]],"start1":1045,"start2":1045,"length1":16,"length2":54}]],"length":2908,"saved":false}
{"ts":1363623835840,"patch":[[{"diffs":[[0,"s = function"],[-1," "],[0,"() {}\n\nsocke"]],"start1":1033,"start2":1033,"length1":25,"length2":24}]],"length":2907,"saved":false}
{"ts":1363623934310,"patch":[[{"diffs":[[0,"tion() {"],[-1,"}\n\n"],[1,"\n    "],[0,"socket ="]],"start1":1041,"start2":1041,"length1":19,"length2":21},{"diffs":[[0,"connect("],[-1,"event"],[1,"thi"],[0,"s.getUrl"]],"start1":1066,"start2":1066,"length1":21,"length2":19},{"diffs":[[0,"tUrl());"],[1,"    \n}"],[0,"\n\n/*\\\\\\\\"]],"start1":1081,"start2":1081,"length1":16,"length2":22}]],"length":2913,"saved":false}
{"ts":1363623947231,"patch":[[{"diffs":[[0,"unction("],[1,"socket"],[0,") {\n    "]],"start1":1038,"start2":1038,"length1":16,"length2":22}]],"length":2919,"saved":false}
{"ts":1363624048708,"patch":[[{"diffs":[[0,"ion("],[-1,"socket"],[0,") {\n   "],[-1," socket ="],[0," io."]],"start1":1042,"start2":1042,"length1":30,"length2":15},{"diffs":[[0,"));    \n"],[1,"    this.socket = this.setEventHandlers();\n"],[0,"}\n\n/*\\\\\\"]],"start1":1077,"start2":1077,"length1":16,"length2":59}]],"length":2947,"saved":false}
{"ts":1363624058332,"patch":[[{"diffs":[[0,"lers();\n"],[1,"    return this.socket;\n"],[0,"}\n\n/*\\\\\\"]],"start1":1120,"start2":1120,"length1":16,"length2":40}]],"length":2971,"saved":false}
{"ts":1363624170351,"patch":[[{"diffs":[[0,"on () {\n"],[-1,"\t"],[1,"    "],[0,"socket.e"]],"start1":1724,"start2":1724,"length1":17,"length2":20}]],"length":2974,"saved":false}
{"ts":1363624232207,"patch":[[{"diffs":[[0,") {\n"],[-1,"    io.connect(this.getUrl());    \n"],[0,"    "]],"start1":1046,"start2":1046,"length1":43,"length2":8},{"diffs":[[0,"andlers("],[1,"\n            io.connect(this.getUrl())\n        "],[0,");\n    r"]],"start1":1082,"start2":1082,"length1":16,"length2":63},{"diffs":[[0,"= function ("],[1,"socket"],[0,") {\n    sock"]],"start1":1728,"start2":1728,"length1":24,"length2":30}]],"length":2992,"saved":false}
