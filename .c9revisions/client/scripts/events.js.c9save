{"ts":1363266957974,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\tEvents\n\tThis defines the client event handlers\n\t\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\n\n\n/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\tGlobals\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\n\nsocket = io.connect(getUrl());\n\n\n\n/*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\tFunction definitions\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\*/\nfunction getUrl() {\n\tif (window.location.href.indexOf(\"langenium\") > 0)\n\t{\n\t\treturn \"http://54.252.102.111\";\n\t\t\n\t}\n\telse {\n\t\treturn \"http://localhost:80\";\n\t}\n}\nfunction setEventHandlers() {\n\tsocket.emit(\"login\", { username: \"Saggy Nuts\" });\n\tsocket.on(\"load\", function(data) { \n\t\tfor (var objArray in data) {\n\t\t\tdata[objArray].forEach(function(instruction, index) {\n\t\t\t\tloadObject(instruction);\n\t\t\t});\n\t\t}\n\t});\n\treturn socket;\n}\n\nfunction detectCollision(source, direction, world_map) {\n\tvar raycaster = new THREE.Raycaster(source, direction.normalize());\n\tvar intersects = raycaster.intersectObjects(world_map);\n\treturn intersects;\n}\n\nfunction moveShip(ship, isPlayer, instruction) {\n\n\tvar playerMesh = player;\n\t\n\tif (instruction.details.pY != 0){\n\t\tship.position.y = instruction.details.pY;\n\t}\n\t\n\tif (instruction.details.pX != 0){\n\t\tship.position.x = instruction.details.pX;\n\t}\n\t\n\tif (instruction.details.pZ != 0) {\n\t\tship.position.z = instruction.details.pZ;\n\t}\n\t\n\tvar rotate = instruction.details.rY - ship.rotation.y;\n\t\n\tif (rotate > 0){\n\t\tif (ship.rotation.z < .5) {\n\t\t\tship.rotation.z += rotate / 3;\n\t\t}\n\t\telse {\n\t\t\tship.rotation.z += rotate / 4;\n\t\t}\n\t\tship.rotation.y = instruction.details.rY;\n\t}\n\tif (rotate < 0) {\n\t\tif (ship.rotation.z > -.5) {\n\t\t\tship.rotation.z += rotate / 3;\n\t\t}\n\t\telse {\n\t\t\tship.rotation.z += rotate / 4;\n\t\t}\n\t\tship.rotation.y = instruction.details.rY;\n\t}\n\n}"]],"start1":0,"start2":0,"length1":0,"length2":2789}]],"length":2789}
{"contributors":[],"silentsave":false,"ts":1363266954162,"patch":[[{"diffs":[[0,".102.111"],[1,":8080"],[0,"\";\n\t\t\n\t}"]],"start1":1498,"start2":1498,"length1":16,"length2":21}]],"length":2794,"saved":false}
{"contributors":[],"silentsave":false,"ts":1363622953313,"patch":[[{"diffs":[[0,"rl());\n\n"],[1,"function events () {}"],[0,"\n"],[-1,""],[0,"\n/*\\\\\\\\\\"]],"start1":1048,"start2":1048,"length1":17,"length2":38},{"diffs":[[0,"\\\\\\\\\\*/\n"],[1,"events.prototype.getUrl = "],[0,"function"]],"start1":1413,"start2":1413,"length1":16,"length2":42},{"diffs":[[0,"unction "],[-1,"getUrl"],[0,"() {\n\tif"]],"start1":1448,"start2":1448,"length1":22,"length2":16},{"diffs":[[0,".102.111"],[1,":8080"],[0,"\";\n\t\t\n\t}"]],"start1":1539,"start2":1539,"length1":16,"length2":21},{"diffs":[[0,"\";\n\t}\n}\n"],[1,"events.prototype."],[0,"function"]],"start1":1598,"start2":1598,"length1":16,"length2":33},{"diffs":[[0,"ers() {\n"],[-1,""],[0,"\tsocket."]],"start1":1645,"start2":1645,"length1":16,"length2":16},{"diffs":[[0," socket;\n}\n\n"],[1,"events.prototype."],[0,"function det"]],"start1":1881,"start2":1881,"length1":24,"length2":41}]],"length":2869,"saved":false}
{"ts":1363622967049,"patch":[[{"diffs":[[0,"ototype."],[-1,"function "],[0,"setEvent"]],"start1":1615,"start2":1615,"length1":25,"length2":16},{"diffs":[[0,"Handlers"],[1," = function "],[0,"() {\n\tso"]],"start1":1631,"start2":1631,"length1":16,"length2":28},{"diffs":[[0,"ototype."],[-1,"function "],[0,"detectCo"]],"start1":1905,"start2":1905,"length1":25,"length2":16},{"diffs":[[0,"ollision"],[1," = function "],[0,"(source,"]],"start1":1920,"start2":1920,"length1":16,"length2":28}]],"length":2875,"saved":false}
{"ts":1363622988527,"patch":[[{"diffs":[[0,"cts;\n}\n\n"],[1,"events.prototype.moveShip = "],[0,"function"]],"start1":2114,"start2":2114,"length1":16,"length2":44},{"diffs":[[0,"unction "],[-1,"moveShip"],[0,"(ship, i"]],"start1":2151,"start2":2151,"length1":24,"length2":16}]],"length":2895,"saved":false}
{"ts":1363623102983,"patch":[[{"diffs":[[0,"connect("],[1,"events."],[0,"getUrl()"]],"start1":1036,"start2":1036,"length1":16,"length2":23}]],"length":2902,"saved":false}
